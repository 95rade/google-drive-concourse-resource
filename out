from google_drive_concourse_resource_common import getServiceInstance
from google_drive_concourse_resource_common import putFile
from google_drive_concourse_resource_common import getPermissions
from apiclient import errors
import sys


"""puts a file onto a google drive folder"""
fID='0BzoFwqMR_Vv4ZzZiSWJqcmozNzQ'
pFile='/tmp/test.tar.gz'

def main():
  drive_service = getServiceInstance()
  perms=getPermissions(drive_service,fID)
  response=putFile(drive_service,fID, pFile, perms, True)
  if isinstance(response,errors.HttpError):
    print('File Not uploaded')
    sys.exit(1)
  else:
    print ('File ID {0} ' .format(response.get('id')))

if __name__ == '__main__':
  main()
