from google_drive_concourse_resource_common import getServiceInstance
from google_drive_concourse_resource_common import listFilesinFolder
from google_drive_concourse_resource_common import getFile
from apiclient import errors
import sys

"""Lists a version of a file from a google drive folder"""
fID='0BzoFwqMR_Vv4ZzZiSWJqcmozNzQ'
fName='Test_V1'

def main():
  drive_service = getServiceInstance()
  fileID=listFilesinFolder(drive_service,fID,fName,True)
  if fileID:
    print fileID
    response=getFile(drive_service,fID, fileID, True)
    if isinstance(response,errors.HttpError):
      print('File not retrieved')
      sys.exit(1)

if __name__ == '__main__':
  main()
