from google_drive_concourse_resource_common import getServiceInstance
from google_drive_concourse_resource_common import listFilesinFolder
from google_drive_concourse_resource_common import getFile
from google_drive_concourse_resource_common import getFileMetadata
from apiclient import errors
import sys


fID='0BzoFwqMR_Vv4ZzZiSWJqcmozNzQ'
fName='test.tar.gz'

def main():
  drive_service = getServiceInstance()
  file=listFilesinFolder(drive_service,fID,fName)
  if file:
    print file['title']
    response=getFile(drive_service,fID, file['id'], file['title'])
    if isinstance(response,errors.HttpError):
      print('File not retrieved')
      sys.exit(1)

if __name__ == '__main__':
  main()
